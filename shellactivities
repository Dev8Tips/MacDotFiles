#!/bin/sh

# ScratchPad Session
function work.scratch() {
	bbedit "/Users/Neo/Documents/Scratch"
}

# Productivity Sessions
function work.ppap() {
  open "http://presentationpatterns.com"
	open "http://www.amazon.com/Presentation-Patterns-Techniques-Crafting-Presentations/dp/0321820800/ref=sr_1_1?ie=UTF8&qid=1347145745&sr=8-1&keywords=presentation+patterns"
	open "https://github.com/presentationPatterns"
	open "https://github.com/PresentationPatterns/presentationpatterns.github.com"

	open "~/Dropbox/AI-Clients/Presentation-Patterns-Book"
	open "~/Dropbox/PPAP"
  iterm "~/Dropbox/AI-Clients/Presentation-Patterns-Book" "PPAP-Book" "black"
	iterm "~/Dropbox/PPAP" "PPAP-Dropbox" "black"
	iterm "~/Dropbox/AI-Clients/Presentation-Patterns-Book/presentationpatterns.github.com" "PPAP-Site" "black"
}

function work.teachgit() {
  open "https://github.com/githubtrainer/hellogitworld" -a "Firefox"
	open "https://github.com/githubstudent" -a "Google Chrome"

	open "https://github.com/github/teach.github.com"
	open "https://github.com/training/free"
	open "https://github.com/matthewmccullough/dotfiles"

	open "~/Documents/Temp/Scratch"
  iterm "~/Documents/Temp/Scratch" "Scratch" "black"
}


function work.gittraining() {
    open "https://github.com/githubtraining"
    open "https://github.com/github/training/issues"
    open "https://github.com/github/teach.github.com"

    open "~/Documents/Code/GitHub"
    open "~/Documents/Code/GitHub/training.github.com_git"
    open "~/Documents/Code/GitHub/GUTS_git"
    open "~/Documents/Code/GitHub/teach.github.com"
}


function fixbluetooth() {
  sudo killall coreaudiod
  sudo killall blued
  sudo renice -5 (pid bluetoothaudio)
  sudo renice -5 (pid iTunes)
  defaults write com.apple.BluetoothAudioAgent "Apple Bitpool Max (editable)" 80
  defaults write com.apple.BluetoothAudioAgent "Apple Bitpool Min (editable)" 80
  defaults write com.apple.BluetoothAudioAgent "Apple Initial Bitpool (editable)" 80
  defaults write com.apple.BluetoothAudioAgent "Apple Initial Bitpool Min (editable)" 80
  defaults write com.apple.BluetoothAudioAgent "Negotiated Bitpool" 80
  defaults write com.apple.BluetoothAudioAgent "Negotiated Bitpool Max" 80
  defaults write com.apple.BluetoothAudioAgent "Negotiated Bitpool Min" 80
  sudo renice -5 (pid coreaudiod)
  sudo renice -5 (pid blued)
}

function setup.python2() {
  export PATH=/usr/local/share/python:$PATH
  export PIP_DOWNLOAD_CACHE=$HOME/.pip/cache
  export WORKON_HOME=/Users/Neo/Developer/Environment/pyvirtualenvs/python2
  export PIP_VIRTUALENV_BASE=$WORKON_HOME
  export VIRTUALENVWRAPPER_PYTHON=/usr/local/bin/python2
  export VIRTUALENVWRAPPER_VIRTUALENV=/usr/local/bin/virtualenv
  export VIRTUALENVWRAPPER_VIRTUALENV_ARGS='--no-site-packages'
  source /usr/local/bin/virtualenvwrapper.sh
}

function setup.python3() {
  export PATH=/usr/local/share/python:$PATH
  export PIP_DOWNLOAD_CACHE=$HOME/.pip/cache
  export WORKON_HOME=/Users/Neo/Developer/Environment/pyvirtualenvs/python3
  export PIP_VIRTUALENV_BASE=$WORKON_HOME
  export VIRTUALENVWRAPPER_PYTHON=/usr/local/bin/python3
  export VIRTUALENVWRAPPER_VIRTUALENV=/usr/local/bin/virtualenv
  export VIRTUALENVWRAPPER_VIRTUALENV_ARGS='--no-site-packages'
  source /usr/local/bin/virtualenvwrapper.sh
}

function setup.spark16() {
  brew unlink apache-spark
  brew link apache-spark16
}

function setup.spark2() {
  brew unlink apache-spark16
  brew link apache-spark
}

function configure.hdfs() {

  _CORE_SITE_XML="$HADOOP_HOME/libexec/etc/hadoop/core-site.xml"
  _MAPRED_SITE_XML="$HADOOP_HOME/libexec/etc/hadoop/mapred-site.xml"
  _HDFS_SITE_XML="$HADOOP_HOME/libexec/etc/hadoop/hdfs-site.xml"

  # backup the original versions of each file
  cp "${_CORE_SITE_XML}" "${_CORE_SITE_XML}.original"
  cp "${_MAPRED_SITE_XML}" "${_MAPRED_SITE_XML}.original"
  cp "${_HDFS_SITE_XML}" "${_HDFS_SITE_XML}.original"

  # Edit core-site.xml
  CORE_CONFIG="<!-- This configuration is autogenerated. Please see core-site.xml.original is this directory for the default version -->
  <configuration>
    <property>
      <name>hadoop.tmp.dir</name>
      <value>/usr/local/Cellar/hadoop/hdfs/tmp</value>
      <description>A base for other temporary directories.</description>
    </property>
    <property>
      <name>fs.default.name</name>
      <value>hdfs://localhost:9000</value>
    </property>
  </configuration>"
  echo "$CORE_CONFIG" > "$_CORE_SITE_XML";

  # Edit mapred-site.xml
  MAPRED_CONFIG="<!-- This configuration is autogenerated. Please see mapred-site.xml.original is this directory for the default version -->
  <configuration>
    <property>
      <name>mapred.job.tracker</name>
      <value>localhost:9010</value>
    </property>
  </configuration>"
  echo "$MAPRED_CONFIG" > "$_MAPRED_SITE_XML";

  # Edit hdfs-site.xml
  HDFS_CONFIG="<!-- This configuration is autogenerated. Please see hdfs-site.xml.original is this directory for the default version -->
  <configuration>
   <property>
    <name>dfs.replication</name>
    <value></value>
   </property>
  </configuration>"
  echo "$HDFS_CONFIG" > "$_HDFS_SITE_XML";

  # format hdfs namenode
  hdfs namenode -format
}

function start.hdfs() {
  #Start all hadoop daemons
  $HADOOP_HOME/sbin/start-all.sh

  #Show started daemons
  jps
}

function stop.hdfs() {
  #Start all hadoop daemons
  $HADOOP_HOME/sbin/stop-all.sh

  #Show started daemons
  jps
}

function start.java_visual_vm() {
  jvisualvm &
}

function configure.aws() {
  source ~/.creds/aws/rootkey.csv.current
}
